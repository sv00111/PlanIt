<link rel="stylesheet" href="{{=URL('static','css/plans.css')}}"/>
<div id="vue-plans" style="display:none; height: 100%;"> <!-- main -->

    <div id="plan-header"> <!-- plan-header -->
        <H2>{{=plan.label}}</H2>
        <!-- Tabs for open plans go here -->

        <button v-if="!is_adding_stop" class="btn btn-success pull-right" v-on:click="add_stop_button()" v-bind:class="{'disabled': !logged_in}">
            <i class="fa fa-plus"></i>
        </button>
        <button v-if="is_adding_stop" class="btn btn-success pull-right" v-on:click="add_stop_button()" v-bind:class="{'disabled': !logged_in}">
            <i class="fa fa-minus"></i>
        </button>

        <div class="dropdown pull-right" style="padding-right: 10px; vertical-align: middle">
            <span>My Plans</span>
            <i class="fa fa-angle-down"></i>
            <div class="dropdown-content">
                <div v-for="plan in plans">
                    <a href="" v-on:click.prevent="get_plan(plan._idx)">
                        ${plan.label}
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div v-if="is_adding_stop" id="add-stop-div">
            <form action="#" v-on:submit.prevent="add_stop" class="" enctype="multipart/form-data" method="post">
                <div class="form-group" id="no_table_label__row">
                    <div>
                        <input class="form-control string" v-model="form_stop_label" required="required" placeholder="Summary" type="text" />
                        <span class="help-block"></span>
                    </div>
                </div>
                <div class="form-group" id="no_table_start__row">
                    <span> Start Time </span>
                    <div>
                        <input class="form-control string" v-model="form_stop_start" required="required" type="time" />
                        <span class="help-block"></span>
                    </div>
                </div>
                <div class="form-group" id="no_table_end__row">
                    <span> End Time </span>
                    <div>
                        <input class="form-control string" v-model="form_stop_end" required="required" type="time" />
                        <span class="help-block"></span>
                    </div>
                </div>
                <div class="form-group" id="no_table_place__row">
                    <div>
                        <input class="form-control string" v-model="form_stop_place" placeholder="Name of the place" type="text" />
                        <span class="help-block"></span>
                    </div>
                </div>
                <div class="form-group" id="no_table_address__row">
                    <div>
                        <input class="form-control string" v-model="form_stop_address" placeholder="Address" type="text" />
                        <span class="help-block"></span>
                    </div>
                </div>
                <div class="form-group" id="submit_record__row">
                    <div>
                        <input class="btn btn-primary" id="add_stop_submit" type="submit" value="Submit" />
                    </div>
                </div>
            </form>
    </div>

    <div id="stop-list" class="scrollbar"> <!-- stop-list scrollbar; -->

        <div v-if="stops.length <= 0" style="width: 100%; margin-top: 20px; text-align: center;">
            This plan doesn't have any stops yet!
        </div>

        <div class="stop-outer" v-for="stop in stops"> <!-- stop-outer; v-for="stop in stops"; margin-top/bottom: 10px; -->

            <div class="stop-time"> <!-- stop-time; display:inline-block; float: left; -->
                <div class="float-middle">
                    <a href=""> <!-- Make this clickable and editable in-line -->
                        <span>${stop.start_time}</span>
                    </a>
                    <span> - </span>
                    <a href=""> <!-- Make this clickable and editable in-line -->
                        <span>${stop.end_time}</span>
                    </a>
                </div>
            </div>

            <div class="stop-inner"> <!-- stop-inner; display: inline-block; float: left; margin-left: 5px; -->
                <div class="mask">
                    <img class="imgClass-thumbnail" src="https://s-media-cache-ak0.pinimg.com/564x/ca/87/8e/ca878e49d9cad00d97f83fdaf8cc8562.jpg">
                </div>

                <div class="stop-content">
                    <span class="stop-label">${stop.label}</span>
                    <span class="place-name">${stop.cust_place}</span>
                    <p>${stop.cust_address}</p>
                </div>
                <div class="pull-right del_stop_button">
                    <i v-on:click="delete_stop(stop._idx)" class="fa fa-close"></i>
                </div>
            </div>

        </div>

    </div>

</div>

<script src="{{=URL('static', 'js/plans.js')}}"></script>