
<!--script src="{{=URL('static', 'js/vue.js')}}"></script>

<script>
    var info_url = "{{=URL('api', 'get_more_info')}}";
    var recommendations_url = "{{=URL('api', 'get_recommendations')}}";
    var places_api_url = "{{=URL('api', 'test')}}}}";
    var get_place_icon_url = "{{=URL('api', 'get_place_icons')}}";
</script-->

<div id="vue-div" class="display:none">

    <div class="Wrapper">
        <div class="wrapper">
            <input placeholder="Keyword" class="searchBar" v-model="searchRec"
                   v-on:keyup.enter="searchFn(searchRec, locationRec)" type="text"/>
        </div>
        <div class="wrapper">
            <input placeholder="Location" class="searchBar" v-model="locationRec"
                   v-on:keyup.enter="searchFn(searchRec, locationRec)" type="text"/>
        </div>

        <input class="btn btn-primary" v-on:click="searchFn(searchRec, locationRec)" type="submit" value="Search">

    </div>

    <!--makes sure that there is a location added before a search is done-->
    <div v-if="locationRec == ''">
        Please enter a location
    </div>

    <div v-for="rec in recommendation">

        <div class="sugg-card">
            <div class="row text-right">
                <div class="row post-content" style="text-align: center; padding-bottom: 2%; font-size: 150%">
                    <div class="row editDelButton">
                        <i class="fa fa-pencil" id="editIcon" v-on:click="changeEditPostId(rec.id, rec.name, rec.lat, rec.lng, rec)"></i>
                    </div>
                </div>

                <!--div v-if = "is_edit_post && rec.id == editPostId" class="post-content" style="text-align: center; padding-bottom: 2%; font-size: 150%">

                </div-->
            </div>
            <div class="pull-left">
                <a href="#">
                    <img class="imgClass-thumbnail" v-bind:src="rec.image">
                </a>
            </div>
            <div class="sugg-card-body">
                <h2>${rec.name}</h2>
                <p>${rec.neighborhood}</p>
            </div>
            <div class="sugg-card-footer">
                    <span style="display: inline-block; float: left;">
                        Price: ${rec.price}
                    </span>
                <span class="rating">
                        Rating: ${rec.rating}
                    </span>
            </div>
        </div>
    </div>

    <div id = "overlayDiv" v-if="loading == 1">
        <img id="loading" url="../../static/images/default.gif">
    </div>

    <div v-if="has_more" class="show_more">
        <button class="btn btn-default" v-on:click="get_more_rec()">Load more</button>
    </div>
</div>

<!--script src="{{=URL('static', 'js/default_index.js')}}"></script-->
